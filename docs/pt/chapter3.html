<html><head>
<title> Leitor Karel </title><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><script src="../plugins/jquery.min.js"></script><link href="../plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet"/><script src="../plugins/bootstrap/js/bootstrap.min.js"></script><link href="../style.css" rel="stylesheet"/><script src="..//karel/js/html/websiteImports.js"></script><script>importCss();</script><script>importJs();</script></head><body><!-- container --><div class="bookContainer">
<!-- side bar --><div class="bookSideBar"><div class="homeLink"><a href="http://cs106a.stanford.edu"><span aria-hidden="true" class="glyphicon glyphicon-home"></span> CS106A</a></div><hr/><div class="sideBarTitle"><a href="../pt/intro.html" style="color:black">Leitor Karel</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter1.html">1 - Conheça Karel</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter2.html">2 - Programação</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter3.html">3 - Novos Métodos</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter4.html">4 - Decomposição</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter5.html">5 - For Loops</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter6.html">6 - While Loops</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter7.html">7 - Condicionais</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter8.html">8 - Refinamento</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter9.html">9 - Algoritmos</a></div><div class="chapterTab"><a class="bookLink btn btn-link" href="../pt/chapter10.html">10 - SuperKarel</a></div><!-- <center>
    <img style ="width:75px;" src="../images/stanford.png"/>
    </center>--></div><!-- content --><div class="bookContent" style="display: flex;"><!-- right gutter --><div style="flex-grow:1;max-width:50px;"></div><!-- main stuff --><div class="" style="flex-basis:740px; max-width:740px; margin-left:20px; margin-right:20px"><div class="row"><div class="col-md-12 col-xs-12">

<h1> Capítulo 3: Definindo Novos Métodos </h1><hr/><p> No último capítulo, escrevemos um programa para ajudar Karel a subir por uma saliência simples: </p><h3> Exemplo: PassoAcima </h3>



<div class="section embeddedIde" id="beeperPickingRedux"><div class="ide getStarted" id="beeperPickingReduxIde" style="height:387.20000000000005px"><div class="ideCenter" id="beeperPickingReduxIdeCenter"><div class="ideEditorDiv" id="beeperPickingReduxEditorDiv" style="width:200px"></div><div class="ideCanvasDiv" id="beeperPickingReduxCanvasDiv"><canvas class="ideCanvas" id="beeperPickingReduxCanvas"></canvas></div></div></div><div style="width:100%;"><div class="buttonBar"><button class="btn btn-default" id="beeperPickingReduxRunButton"><span class="glyphicon glyphicon-play"></span> Rodar programa</button></div></div><script>

        

function examplebeeperPickingRedux() {
STARTER_CODE = `

/*
 * Ficheiro: BeeperPickingKarel.java
 * ---------------------------------
 * Karel pega um bip e coloca-o em uma borda.
 */
import stanford.karel.*;
public class BeeperPickingKarel extends Karel {
   public void run() {
      mover();
      escolherBeeper();
      mover();
      vireAEsquerda();
      mover();
      vireAEsquerda();
      vireAEsquerda();
      vireAEsquerda();
      mover();
      mover();
      colocarBeeper();
      mover();
   } 
}
`
// because of that extra endline at the start of the string
STARTER_CODE = STARTER_CODE.trim();

 var karelIde = null;
 var karelEditor = null;
 var buttonState = 'play';

 function main() {
   karelEditor = importEditorCode('beeperPickingReduxEditor','beeperPickingReduxEditorDiv', STARTER_CODE, false);
     //importRunButtonBar('example1ButtonBar');
    
    $("[title]").tooltip({ position: "bottom center", opacity: 0.9});
    
    initTabs();
    var canvas = document.getElementById('beeperPickingReduxCanvas');
    karelIde = KarelIde(karelEditor, canvas, 'stepUp', 0.8);
    $('#beeperPickingReduxRunButton').click(function(){playClicked()});
    onresize();
    
 }

 function playClicked() {
  if(buttonState == 'play') {
    karelIde.playButton();
      
      var resetText = '<span class="glyphicon glyphicon-repeat"></span> Reset Program';
      $('#beeperPickingReduxRunButton').html(resetText);
      buttonState = 'reset';
     } else if (buttonState == 'reset') {
      karelIde.stopButton();
      var playText = '<span class="glyphicon glyphicon-play"></span> Run Program';
      $('#beeperPickingReduxRunButton').html(playText);
      buttonState = 'play';
     }
  
  }

 function onresize() { 
    var parentHeight = 387.20000000000005;
    var canvasWidth = 300
    var parentWidth = $("#beeperPickingRedux").width();
    console.log('pw: ' + parentWidth);

    var ide = document.getElementById('beeperPickingReduxIde');
    var editorDiv = document.getElementById('beeperPickingReduxEditorDiv');
    var canvas = document.getElementById('beeperPickingReduxCanvasDiv');
    
    var ideHeight = parentHeight
    var centerHeight = ideHeight;

    var availibleWidth = parentWidth;
    var elementSpacing = 12;

    var editorWidth = availibleWidth - canvasWidth - elementSpacing; 

    canvas.style.width = canvasWidth + 'px';
    canvas.style.height = canvasWidth + 'px';
    canvas.style.left = (editorWidth + elementSpacing) + 'px';



    editorDiv.style.left = 0 + 'px'
    editorDiv.style.width = editorWidth + 'px';
    editorDiv.style.height = parentHeight + 'px';
    console.log('editor width: ' + editorWidth)

    if (karelEditor) {
       karelEditor.renderer.onResize();
    }
 }
 main()
 
}
examplebeeperPickingRedux();
    </script></div>
<p> Embora o programa <code>PassoAcima</code> acima demonstre que é possível realizar a operação <code>vireÀDireita</code> usando apenas os comandos <code>vireÀDireita</code> Karel, o programa resultante não é particularmente claro conceitualmente. Em seu projeto mental do programa, Karel vira à direita quando atinge o topo da borda. O fato de você ter que usar três comandos vireAEsquerda para fazer isso é chato. Seria muito mais simples se você pudesse simplesmente dizer <code>vireÀDireita()</code> e ter Karel entender esse comando. O programa resultante não seria apenas mais curto e mais fácil de escrever, mas também significativamente mais fácil de ler. </p><h3> Definindo Novos Comandos </h3><p> Felizmente, a linguagem de programação Karel permite definir novos comandos simplesmente incluindo novas definições de métodos. Sempre que você tiver uma sequência de comandos Karel que realize alguma tarefa útil - como, por exemplo, virar à direita - você pode definir um novo método que execute essa sequência de comandos. O formato para definir um novo método Karel tem praticamente o mesmo que a definição de <code>run</code> nos exemplos anteriores, que é uma definição de método independente. Uma definição típica de método é assim: </p><p class="demoCode" style="margin-left:10px"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span></code><i class="demoText">name</i><code>() {</code><br/><i class="demoText" style="margin-left:3.5em">comandos que compõem o corpo do método</i><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p> Nesse padrão, name representa o nome que você escolheu para o novo método. Para completar a definição, tudo o que você precisa fazer é fornecer a sequência de comandos nas linhas entre as chaves. Por exemplo, você pode definir o <code>vireÀDireita</code> seguinte maneira: </p><p class="demoCode" style="margin-left:10px"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> vireÀDireita() {</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p> Da mesma forma, você poderia definir um novo método <code>inversãoDeMarcha</code> assim: </p><p class="demoCode" style="margin-left:10px"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> inversãoDeMarcha() {</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p> Você pode usar o nome de um novo método como qualquer um dos comandos internos de Karel. Por exemplo, depois de ter definido <code>vireÀDireita</code>, você poderia substituir os três comandos vireAEsquerda no programa <code>IntensifiqueKarel</code> por uma única chamada ao método <code>vireÀDireita</code>. Aqui está uma implementação revisada do programa que usa o <code>vireÀDireita</code>: </p>



<div class="section embeddedIde" id="stepUp2"><div class="ide getStarted" id="stepUp2Ide" style="height:563.2px"><div class="ideCenter" id="stepUp2IdeCenter"><div class="ideEditorDiv" id="stepUp2EditorDiv" style="width:200px"></div><div class="ideCanvasDiv" id="stepUp2CanvasDiv"><canvas class="ideCanvas" id="stepUp2Canvas"></canvas></div></div></div><div style="width:100%;"><div class="buttonBar"><button class="btn btn-default" id="stepUp2RunButton"><span class="glyphicon glyphicon-play"></span> Rodar programa</button></div></div><script>

        

function examplestepUp2() {
STARTER_CODE = `

/*
 * Ficheiro: BeeperPickingKarel.java
 * ---------------------------------
 * O programa BeeperPickingKarel define um método
 * "run" com três comandos. Esses comandos fazem com
 * que Karel avance um bloco, pegue um bip e siga em
 * frente até o próximo canto.
 */
import stanford.karel.*;
public class BeeperTotingKarel extends Karel {
   public void run() {
      mover();
      escolherBeeper();
      mover();
      vireAEsquerda();
      mover();
      vireÀDireita();
      mover();
      mover();
      colocarBeeper();
      mover();
   }

   /**
    * Liga Karel 90 graus para a direita.
    */
   private void vireÀDireita() {
      vireAEsquerda();
      vireAEsquerda();
      vireAEsquerda();
   }
}
`
// because of that extra endline at the start of the string
STARTER_CODE = STARTER_CODE.trim();

 var karelIde = null;
 var karelEditor = null;
 var buttonState = 'play';

 function main() {
   karelEditor = importEditorCode('stepUp2Editor','stepUp2EditorDiv', STARTER_CODE, false);
     //importRunButtonBar('example1ButtonBar');
    
    $("[title]").tooltip({ position: "bottom center", opacity: 0.9});
    
    initTabs();
    var canvas = document.getElementById('stepUp2Canvas');
    karelIde = KarelIde(karelEditor, canvas, 'stepUp', 0.0);
    $('#stepUp2RunButton').click(function(){playClicked()});
    onresize();
    
 }

 function playClicked() {
  if(buttonState == 'play') {
    karelIde.playButton();
      
      var resetText = '<span class="glyphicon glyphicon-repeat"></span> Reset Program';
      $('#stepUp2RunButton').html(resetText);
      buttonState = 'reset';
     } else if (buttonState == 'reset') {
      karelIde.stopButton();
      var playText = '<span class="glyphicon glyphicon-play"></span> Run Program';
      $('#stepUp2RunButton').html(playText);
      buttonState = 'play';
     }
  
  }

 function onresize() { 
    var parentHeight = 563.2;
    var canvasWidth = 300
    var parentWidth = $("#stepUp2").width();
    console.log('pw: ' + parentWidth);

    var ide = document.getElementById('stepUp2Ide');
    var editorDiv = document.getElementById('stepUp2EditorDiv');
    var canvas = document.getElementById('stepUp2CanvasDiv');
    
    var ideHeight = parentHeight
    var centerHeight = ideHeight;

    var availibleWidth = parentWidth;
    var elementSpacing = 12;

    var editorWidth = availibleWidth - canvasWidth - elementSpacing; 

    canvas.style.width = canvasWidth + 'px';
    canvas.style.height = canvasWidth + 'px';
    canvas.style.left = (editorWidth + elementSpacing) + 'px';



    editorDiv.style.left = 0 + 'px'
    editorDiv.style.width = editorWidth + 'px';
    editorDiv.style.height = parentHeight + 'px';
    console.log('editor width: ' + editorWidth)

    if (karelEditor) {
       karelEditor.renderer.onResize();
    }
 }
 main()
 
}
examplestepUp2();
    </script></div>
<p> Existe, obviamente, uma diferença óbvia entre as definições dos métodos <code>run</code> e <code>vireÀDireita</code> no programa acima: o método <code>run</code> é marcado como <code>public</code> em contraste com <code>vireÀDireita</code>, que é marcado como <code>private</code>. A diferença entre essas duas designações é que métodos públicos podem ser chamados de fora do programa, enquanto métodos privados não podem. O método de execução precisa ser público porque o ambiente do Karel precisa ser capaz de emitir um comando de execução para executar as coisas. Em geral, é uma boa prática de programação manter as definições privadas sempre que possível. </p><h3> Blocos de Código de Método </h3><p> Um grupo de comandos entre duas chaves <code translate="no">{ }</code> é chamado de <b>bloco de código</b>. O corpo do seu programa é um bloco de código, assim como o corpo de um método. Observe como o conteúdo de um bloco de código é todo uma aba recuada. Isso é importante estilisticamente, pois torna fácil para os humanos saberem quais linhas de código estão em um determinado bloco. </p><p> Você pode definir quantos métodos quiser. Todos devem ser escritos um após o outro dentro do bloco de código do seu programa. Você não pode definir um método dentro de outro método. </p><hr/><center><a class="btn btn-primary btn-lg" href="chapter4.html" role="button">Próximo Capítulo</a></center>



<div style="height:60px"></div>
<!-- <div class="footer">
	<p class="pull-left">
		&#169; Stanford 2018 &#124; Made by Chris Piech. Built off "Karel the Robot Learns Java" by Eric Roberts. 
	</p>
</div>-->
<!-- <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-74362126-1', 'auto');
  ga('send', 'pageview');

</script>--></div></div></div><!-- right gutter --><div style="flex-grow:4"></div></div></div></body></html>