<html><head>
<title> קארל רידר </title><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><script src="../plugins/jquery.min.js"></script><link href="../plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet"/><script src="../plugins/bootstrap/js/bootstrap.min.js"></script><link href="../style.css" rel="stylesheet"/><script src="..//karel/js/html/websiteImports.js"></script><script>importCss();</script><script>importJs();</script></head><body style=";text-align:right;direction:rtl"><!-- container --><div class="bookContainer" style=";text-align:right;direction:rtl">
<!-- side bar --><div class="bookSideBar" style=";text-align:right;direction:rtl"><div class="homeLink" style=";text-align:right;direction:rtl"><a href="http://cs106a.stanford.edu"><span aria-hidden="true" class="glyphicon glyphicon-home"></span> CS106A</a></div><hr/><div class="sideBarTitle" style=";text-align:right;direction:rtl"><a href="../he/intro.html" style="color:black">קארל רידר</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter1.html">1 - פגוש את קארל</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter2.html">2 - תכנות</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter3.html">שיטות חדשות</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter4.html">4 - פירוק</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter5.html">5 - לולאות</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter6.html">6 - בעוד לולאות</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter7.html">7 - תנאים</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter8.html">8 - צמצום</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter9.html">9 - אלגוריתמים</a></div><div class="chapterTab" style=";text-align:right;direction:rtl"><a class="bookLink btn btn-link" href="../he/chapter10.html">10 - SuperKarel</a></div><!-- <center>
    <img style ="width:75px;" src="../images/stanford.png"/>
    </center>--></div><!-- content --><div class="bookContent" style="display: flex;;text-align:right;direction:rtl"><!-- right gutter --><div style="flex-grow:1;max-width:50px;;text-align:right;direction:rtl"></div><!-- main stuff --><div class="" style="flex-basis:740px; max-width:740px; margin-left:20px; margin-right:20px;text-align:right;direction:rtl"><div class="row" style=";text-align:right;direction:rtl"><div class="col-md-12 col-xs-12" style=";text-align:right;direction:rtl">

<h1 style=";text-align:right;direction:rtl"> פרק ג: הגדרת שיטות חדשות </h1><hr/><p style=";text-align:right;direction:rtl"> בפרק האחרון כתבנו תוכנית שתסייע לקארל לטפס על מדף פשוט: </p><h3 style=";text-align:right;direction:rtl"> דוגמה: צעדלמעלה </h3>



<div class="section embeddedIde" id="beeperPickingRedux" style=";text-align:right;direction:rtl"><div class="ide getStarted" id="beeperPickingReduxIde" style="height:387.20000000000005px;text-align:right;direction:rtl"><div class="ideCenter" id="beeperPickingReduxIdeCenter" style=";text-align:right;direction:rtl"><div class="ideEditorDiv" id="beeperPickingReduxEditorDiv" style="width:200px;text-align:right;direction:rtl"></div><div class="ideCanvasDiv" id="beeperPickingReduxCanvasDiv" style=";text-align:right;direction:rtl"><canvas class="ideCanvas" id="beeperPickingReduxCanvas"></canvas></div></div></div><div style="width:100%;;text-align:right;direction:rtl"><div class="buttonBar" style=";text-align:right;direction:rtl"><button class="btn btn-default" id="beeperPickingReduxRunButton"><span class="glyphicon glyphicon-play"></span> הפעל תוכנית</button></div></div><script>

        

function examplebeeperPickingRedux() {
STARTER_CODE = `

/*
 * קובץ: ביפרקוטףאתקארל
 * --------------------
 * קארל מרים ביפר ומניח אותו על מדף.
 */
import סטנפורד.קאראל.*;
public class ביפרקוטףאתקארל extends קארל {
   public void run() {
      מהלך_\_לזוז_\_לעבור();
      בחרביפר();
      מהלך_\_לזוז_\_לעבור();
      פונהשמאלה();
      מהלך_\_לזוז_\_לעבור();
      פונהשמאלה();
      פונהשמאלה();
      פונהשמאלה();
      מהלך_\_לזוז_\_לעבור();
      מהלך_\_לזוז_\_לעבור();
      שיםאתביפר();
      מהלך_\_לזוז_\_לעבור();
   } 
}
`
// because of that extra endline at the start of the string
STARTER_CODE = STARTER_CODE.trim();

 var karelIde = null;
 var karelEditor = null;
 var buttonState = 'play';

 function main() {
   karelEditor = importEditorCode('beeperPickingReduxEditor','beeperPickingReduxEditorDiv', STARTER_CODE, false);
     //importRunButtonBar('example1ButtonBar');
    
    $("[title]").tooltip({ position: "bottom center", opacity: 0.9});
    
    initTabs();
    var canvas = document.getElementById('beeperPickingReduxCanvas');
    karelIde = KarelIde(karelEditor, canvas, 'stepUp', 0.8);
    $('#beeperPickingReduxRunButton').click(function(){playClicked()});
    onresize();
    
 }

 function playClicked() {
  if(buttonState == 'play') {
    karelIde.playButton();
      
      var resetText = '<span class="glyphicon glyphicon-repeat"></span> Reset Program';
      $('#beeperPickingReduxRunButton').html(resetText);
      buttonState = 'reset';
     } else if (buttonState == 'reset') {
      karelIde.stopButton();
      var playText = '<span class="glyphicon glyphicon-play"></span> Run Program';
      $('#beeperPickingReduxRunButton').html(playText);
      buttonState = 'play';
     }
  
  }

 function onresize() { 
    var parentHeight = 387.20000000000005;
    var canvasWidth = 300
    var parentWidth = $("#beeperPickingRedux").width();
    console.log('pw: ' + parentWidth);

    var ide = document.getElementById('beeperPickingReduxIde');
    var editorDiv = document.getElementById('beeperPickingReduxEditorDiv');
    var canvas = document.getElementById('beeperPickingReduxCanvasDiv');
    
    var ideHeight = parentHeight
    var centerHeight = ideHeight;

    var availibleWidth = parentWidth;
    var elementSpacing = 12;

    var editorWidth = availibleWidth - canvasWidth - elementSpacing; 

    canvas.style.width = canvasWidth + 'px';
    canvas.style.height = canvasWidth + 'px';
    canvas.style.left = (editorWidth + elementSpacing) + 'px';



    editorDiv.style.left = 0 + 'px'
    editorDiv.style.width = editorWidth + 'px';
    editorDiv.style.height = parentHeight + 'px';
    console.log('editor width: ' + editorWidth)

    if (karelEditor) {
       karelEditor.renderer.onResize();
    }
 }
 main()
 
}
examplebeeperPickingRedux();
    </script></div>
<p style=";text-align:right;direction:rtl"> אף על פי שהתוכנית <code>צעדלמעלה</code> מעלה כי ניתן לבצע את פעולת <code>פנהימינה</code> באמצעות הפקודות המובנות של קארל בלבד, התוכנית המתקבלת אינה ברורה במיוחד מבחינה מושגית. בתכנון הנפשי שלך של התוכנית, קארל פונה ימינה כשזה מגיע לראש המדף. העובדה שאתה צריך להשתמש שלוש פונהשמאלה פקודות לעשות זאת היא מעצבנת. זה יהיה הרבה יותר פשוט אם אתה יכול פשוט לומר <code>פנהימינה()</code> ויש לי קארל להבין את הפקודה הזאת. התוכנית שהתקבלה לא תהיה קצרה יותר וקלה יותר לקריאה, אלא גם קלה יותר לקריאה. </p><h3 style=";text-align:right;direction:rtl"> הגדרת פקודות חדשות </h3><p style=";text-align:right;direction:rtl"> למרבה המזל, שפת התכנות קארל מאפשרת להגדיר פקודות חדשות פשוט על ידי הכללת הגדרות שיטה חדשות. בכל פעם שיש לך רצף של פקודות Karel שמבצעת משימה שימושית כלשהי - כגון פנייה ימינה - באפשרותך להגדיר שיטה חדשה המפעילה את רצף הפקודות. הפורמט להגדרת שיטת קארל חדשה דומה מאוד להגדרת <code>run</code> בדוגמאות הקודמות, שהיא הגדרת שיטה בפני עצמה. הגדרת שיטה טיפוסית נראית כך: </p><p class="demoCode" style="margin-left:10px;text-align:right;direction:rtl"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span></code><i class="demoText">שם</i><code><span class="keyword">&nbsp;&nbsp;&nbsp;private void</span></code><code>() {</code><br/><i class="demoText" style="margin-left:3.5em">פקודות המרכיבות את הגוף של השיטה</i><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p style=";text-align:right;direction:rtl"> בתבנית זו, השם מייצג את השם שבחרת עבור השיטה החדשה. כדי להשלים את ההגדרה, כל מה שאתה צריך לעשות הוא לספק את רצף של פקודות בקווים בין הפלטה מסולסלים. לדוגמה, ניתן להגדיר את <code>פנהימינה</code> כך: </p><p class="demoCode" style="margin-left:10px;text-align:right;direction:rtl"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> פנהימינה() {</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p style=";text-align:right;direction:rtl"> באופן דומה, אתה יכול להגדיר שיטה חדשה <code>תסתובב</code> ככה: </p><p class="demoCode" style="margin-left:10px;text-align:right;direction:rtl"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> תסתובב() {</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p style=";text-align:right;direction:rtl"> אתה יכול להשתמש בשם של שיטה חדשה בדיוק כמו כל פקודות מובנית של קארל. לדוגמה, לאחר שהגדרת את <code>פנהימינה</code>, ניתן להחליף את שלוש פקודות הפונשמאלה בתכנית <code>קארל</code> בשיחה אחת לשיטת <code>פנהימינה</code>. הנה יישום מעודכן של התוכנית המשתמשת <code>פנהימינה</code>: </p>



<div class="section embeddedIde" id="stepUp2" style=";text-align:right;direction:rtl"><div class="ide getStarted" id="stepUp2Ide" style="height:545.6px;text-align:right;direction:rtl"><div class="ideCenter" id="stepUp2IdeCenter" style=";text-align:right;direction:rtl"><div class="ideEditorDiv" id="stepUp2EditorDiv" style="width:200px;text-align:right;direction:rtl"></div><div class="ideCanvasDiv" id="stepUp2CanvasDiv" style=";text-align:right;direction:rtl"><canvas class="ideCanvas" id="stepUp2Canvas"></canvas></div></div></div><div style="width:100%;;text-align:right;direction:rtl"><div class="buttonBar" style=";text-align:right;direction:rtl"><button class="btn btn-default" id="stepUp2RunButton"><span class="glyphicon glyphicon-play"></span> הפעל תוכנית</button></div></div><script>

        

function examplestepUp2() {
STARTER_CODE = `

/*
 * קובץ: ביפרקוטףאתקארל
 * --------------------
 * ביפרקוטפתאתקארל תוכנית מגדיר שיטת "run" עם שלוש
 * פקודות. פקודות אלה לגרום קארל להתקדם בלוק אחד,
 * להרים ביפר, ולאחר מכן להתקדם אל הפינה הבאה.
 */
import סטנפורד.קאראל.*;
public class ביפרטוטלקארל extends קארל {
   public void run() {
      מהלך_\_לזוז_\_לעבור();
      בחרביפר();
      מהלך_\_לזוז_\_לעבור();
      פונהשמאלה();
      מהלך_\_לזוז_\_לעבור();
      פנהימינה();
      מהלך_\_לזוז_\_לעבור();
      מהלך_\_לזוז_\_לעבור();
      שיםאתביפר();
      מהלך_\_לזוז_\_לעבור();
   }

   /**
    * הופך קארל 90 מעלות ימינה.
    */
   private void פנהימינה() {
      פונהשמאלה();
      פונהשמאלה();
      פונהשמאלה();
   }
}
`
// because of that extra endline at the start of the string
STARTER_CODE = STARTER_CODE.trim();

 var karelIde = null;
 var karelEditor = null;
 var buttonState = 'play';

 function main() {
   karelEditor = importEditorCode('stepUp2Editor','stepUp2EditorDiv', STARTER_CODE, false);
     //importRunButtonBar('example1ButtonBar');
    
    $("[title]").tooltip({ position: "bottom center", opacity: 0.9});
    
    initTabs();
    var canvas = document.getElementById('stepUp2Canvas');
    karelIde = KarelIde(karelEditor, canvas, 'stepUp', 0.0);
    $('#stepUp2RunButton').click(function(){playClicked()});
    onresize();
    
 }

 function playClicked() {
  if(buttonState == 'play') {
    karelIde.playButton();
      
      var resetText = '<span class="glyphicon glyphicon-repeat"></span> Reset Program';
      $('#stepUp2RunButton').html(resetText);
      buttonState = 'reset';
     } else if (buttonState == 'reset') {
      karelIde.stopButton();
      var playText = '<span class="glyphicon glyphicon-play"></span> Run Program';
      $('#stepUp2RunButton').html(playText);
      buttonState = 'play';
     }
  
  }

 function onresize() { 
    var parentHeight = 545.6;
    var canvasWidth = 300
    var parentWidth = $("#stepUp2").width();
    console.log('pw: ' + parentWidth);

    var ide = document.getElementById('stepUp2Ide');
    var editorDiv = document.getElementById('stepUp2EditorDiv');
    var canvas = document.getElementById('stepUp2CanvasDiv');
    
    var ideHeight = parentHeight
    var centerHeight = ideHeight;

    var availibleWidth = parentWidth;
    var elementSpacing = 12;

    var editorWidth = availibleWidth - canvasWidth - elementSpacing; 

    canvas.style.width = canvasWidth + 'px';
    canvas.style.height = canvasWidth + 'px';
    canvas.style.left = (editorWidth + elementSpacing) + 'px';



    editorDiv.style.left = 0 + 'px'
    editorDiv.style.width = editorWidth + 'px';
    editorDiv.style.height = parentHeight + 'px';
    console.log('editor width: ' + editorWidth)

    if (karelEditor) {
       karelEditor.renderer.onResize();
    }
 }
 main()
 
}
examplestepUp2();
    </script></div>
<p style=";text-align:right;direction:rtl"> יש, כמובן, הבדל ברור אחד בין ההגדרות של <code>run</code> ו <code>פנהימינה</code> השיטות בתכנית לעיל: <code>run</code> שיטת מסומן <code>public</code> בניגוד <code>פנהימינה</code>, אשר מסומן <code>private</code>. ההבדל בין שתי הכינויים הללו הוא שניתן להשתמש בשיטות ציבוריות מחוץ לתוכנית, בעוד ששיטות פרטיות אינן יכולות. שיטת הריצה צריכה להיות ציבורית משום שסביבת Karel צריכה להיות מסוגלת להנפיק פקודה להפעיל דברים. זה בדרך כלל טוב תכנות בפועל לשמור הגדרות פרטיות בכל הזדמנות אפשרית. </p><h3 style=";text-align:right;direction:rtl"> בלוקים קוד שיטה </h3><p style=";text-align:right;direction:rtl"> קבוצה של פקודות בין שני סוגריים מסולסלים <code translate="no">{ }</code> נקראת <b>בלוק קוד</b>. הגוף של התוכנית שלך הוא בלוק קוד כמו הגוף של שיטה. שימו לב איך התוכן של בלוק קוד הם כל הכניסו את הלשונית אחת פנימה זה חשוב סגנונית שכן זה מקל על בני האדם לדעת מה שורות קוד נמצאים בבלוק נתון. </p><p style=";text-align:right;direction:rtl"> ניתן להגדיר שיטות רבות ככל שתרצה. הם צריכים להיות כל אחד כתוב בזה אחר זה בתוך הבלוק שלך קוד התוכנית. לא ניתן להגדיר שיטה בשיטה אחרת. </p><hr/><center style=";text-align:right;direction:rtl"><a class="btn btn-primary btn-lg" href="chapter4.html" role="button">פרק הבא</a></center>



<div style="height:60px;text-align:right;direction:rtl"></div>
<!-- <div class="footer">
	<p class="pull-left">
		&#169; Stanford 2018 &#124; Made by Chris Piech. Built off "Karel the Robot Learns Java" by Eric Roberts. 
	</p>
</div>-->
<!-- <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-74362126-1', 'auto');
  ga('send', 'pageview');

</script>--></div></div></div><!-- right gutter --><div style="flex-grow:4;text-align:right;direction:rtl"></div></div></div></body></html>