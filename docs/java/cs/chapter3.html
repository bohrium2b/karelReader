
<html>
<head>

<title>Karel Reader</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/> 
<script src="../../plugins/jquery.min.js"></script>
<link href="../../plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet"/> 
<script src="../../plugins/bootstrap/js/bootstrap.min.js"></script>
<link href="../../style.css" rel="stylesheet"/> 
<script src="../..//karel/js/html/websiteImports.js"></script>
<script>importCss();</script>
<script>importJs();</script>
</head>
<body>
<!-- container -->
<div class="bookContainer">

<!-- side bar -->
<div class="bookSideBar">
<div class="homeLink">
 <a href="../../java/cs/intro.html">
<span aria-hidden="true" class="glyphicon glyphicon-home"></span> Karel</a> 
</div>
<hr/>
<div class="chapterTab" onclick="location.href='../../java/cs/chapter1.html'">
<a class="bookLink btn btn-link" href="../../java/cs/chapter1.html">1 - Seznamte se s Karlem</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/chapter2.html'">
<a class="bookLink btn btn-link" href="../../java/cs/chapter2.html">2 - Programování</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/chapter3.html'">
<a class="bookLink btn btn-link" href="../../java/cs/chapter3.html">3 - Nové metody</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/chapter4.html'">
<a class="bookLink btn btn-link" href="../../java/cs/chapter4.html">4 - Rozklad</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/chapter5.html'">
<a class="bookLink btn btn-link" href="../../java/cs/chapter5.html">5 - Pro smyčky</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/chapter6.html'">
<a class="bookLink btn btn-link" href="../../java/cs/chapter6.html">6 - Zatímco smyčky</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/chapter7.html'">
<a class="bookLink btn btn-link" href="../../java/cs/chapter7.html">7 - Podmíněné podmínky</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/chapter8.html'">
<a class="bookLink btn btn-link" href="../../java/cs/chapter8.html">8 - Zpřesnění</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/chapter9.html'">
<a class="bookLink btn btn-link" href="../../java/cs/chapter9.html">9 - SuperKarel</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/reference.html'">
<a class="bookLink btn btn-link" href="../../java/cs/reference.html">10 - Odkaz</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/cs/ide.html'">
<a class="bookLink btn btn-link" href="../../java/cs/ide.html">11 - Kód</a> 
</div>
<hr/>
 <a href="../../"><img src="../../images/unFlag.png" style="width:40px"/> Další informace</a> 
<!-- <center>
    <img style ="width:75px;" src="../../images/stanford.png"/> 
    </center> -->
</div>
<!-- content -->
<div class="bookContent" style="display: flex;">
<!-- right gutter -->
<div style="flex-grow:1;max-width:50px;"></div>
<!-- main stuff -->
<div class="" style="flex-basis:740px; max-width:740px; margin-left:20px; margin-right:20px">
<div class="row">
<div class="col-md-12 col-xs-12">


<h1>Kapitola 3: Definování nových metod</h1>
<hr/>
<p>V poslední kapitole jsme napsali program, který pomůže Karlu vylézt jednoduchou římsu:</p>
<h3>Příklad: PrvníKarel</h3>





<div class="section embeddedIde" id="beeperPickingRedux">
<div class="ide getStarted" id="beeperPickingReduxIde" style="height:387.20000000000005px">
<div class="ideCenter" id="beeperPickingReduxIdeCenter">
<div class="ideEditorDiv" id="beeperPickingReduxEditorDiv" style="width:200px"></div>
<div class="ideCanvasDiv" id="beeperPickingReduxCanvasDiv">
<canvas class="ideCanvas" id="beeperPickingReduxCanvas"></canvas>
</div>
</div>
</div>
<div style="width:100%;">
<div class="buttonBar">
<button class="btn btn-default" id="beeperPickingReduxRunButton"><span class="glyphicon glyphicon-play"></span>Spustit program</button>
</div>
</div>
<script>

        

function examplebeeperPickingRedux() {
STARTER_CODE = `

/*
 * Soubor: PrvníKarel.java
 * ----------------------
 * Karel zvedne kuzel a položí ho na římsu.
 */
import stanford.karel.*;
public class PrvníKarel extends Karel {
   public void run() {
      move();
      pickBeeper();
      move();
      turnLeft();
      move();
      turnLeft();
      turnLeft();
      turnLeft();
      move();
      move();
      putBeeper();
      move();
   } 
}
`
// because of that extra endline at the start of the string
STARTER_CODE = STARTER_CODE.trim();

 var karelIde = null;
 var karelEditor = null;
 var buttonState = 'play';

 function main() {
   karelEditor = importEditorCode('beeperPickingReduxEditor','beeperPickingReduxEditorDiv', STARTER_CODE, false);
     //importRunButtonBar('example1ButtonBar');
    
    $("[title]").tooltip({ position: "bottom center", opacity: 0.9});
    
    initTabs();
    var canvas = document.getElementById('beeperPickingReduxCanvas');
    karelIde = KarelIde('java',karelEditor, canvas, 'stepUp', 0.8, 'cs');
    $('#beeperPickingReduxRunButton').click(function(){playClicked()});
    onresize();
    
 }

 function playClicked() {
  if(buttonState == 'play') {
    karelIde.playButton();
      
      var resetText = '<span class="glyphicon glyphicon-repeat"></span> Reset Program';
      $('#beeperPickingReduxRunButton').html(resetText);
      buttonState = 'reset';
     } else if (buttonState == 'reset') {
      karelIde.stopButton();
      var playText = '<span class="glyphicon glyphicon-play"></span> Run Program';
      $('#beeperPickingReduxRunButton').html(playText);
      buttonState = 'play';
     }
  
  }

 function onresize() { 
    var parentHeight = 387.20000000000005;
    var canvasWidth = 300
    var parentWidth = $("#beeperPickingRedux").width();
    console.log('pw: ' + parentWidth);

    var ide = document.getElementById('beeperPickingReduxIde');
    var editorDiv = document.getElementById('beeperPickingReduxEditorDiv');
    var canvas = document.getElementById('beeperPickingReduxCanvasDiv');
    
    var ideHeight = parentHeight
    var centerHeight = ideHeight;

    var availibleWidth = parentWidth;
    var elementSpacing = 12;

    var editorWidth = availibleWidth - canvasWidth - elementSpacing; 

    canvas.style.width = canvasWidth + 'px';
    canvas.style.height = canvasWidth + 'px';
    canvas.style.left = (editorWidth + elementSpacing) + 'px';



    editorDiv.style.left = 0 + 'px'
    editorDiv.style.width = editorWidth + 'px';
    editorDiv.style.height = parentHeight + 'px';
    console.log('editor width: ' + editorWidth)

    if (karelEditor) {
       karelEditor.renderer.onResize();
    }
 }
 main()
 
}
examplebeeperPickingRedux();
    </script>
</div>

<p>I když <code>PrvníKarel</code> program ukazuje, že je možné provést <code>turnRight</code> Při použití pouze Karlových vestavěných příkazů není výsledný program pojmově zřetelný. Ve své mentální koncepci se Karel otočí, když dosáhne vrcholu římsy. Skutečnost, že k tomu musíte použít tři příkazy odbočitVlevo, je nepříjemná. Bylo by mnohem jednodušší, kdybyste mohl jednoduše říct <code>turnRight()</code> a pochopil Karel tento příkaz. Výsledný program by byl nejen kratší a jednodušší psát, ale také by byl mnohem snazší číst.</p>
<h3>Definování nových příkazů</h3>
<p>Programovací jazyk Karel naštěstí umožňuje definovat nové příkazy jednoduše pomocí nových definic metod. Kdykoliv máte posloupnost Karlových příkazů, která vykonává nějaký užitečný úkol - například otáčení doprava - můžete definovat novou metodu, která provede tuto posloupnost příkazů. Formát pro definování nové metody Karla má stejný význam jako definice <code>run</code> v předchozích příkladech, což je vlastní definice metody. Typická definice metody vypadá takto:</p>
<p class="demoCode" style="margin-left:10px">
 <code>   <span class="keyword">private void</span> </code> <i class="demoText">název</i> <code>() {</code> <br/>
<i class="demoText" style="margin-left:3.5em">příkazy, které tvoří tělo metody</i><br/>
 <code>   }</code> <br/>
</p>
<p>V tomto vzoru název představuje název, který jste vybrali pro novou metodu. Chcete-li dokončit definici, vše, co musíte udělat, je poskytnout posloupnost příkazů v řádcích mezi složenými závorkami. Můžete například definovat <code>turnRight</code> jak následuje:</p>
<p class="demoCode" style="margin-left:10px">
 <code>   <span class="keyword">private void</span> turnRight() {</code> <br/>
 <code style="margin-left:3.5em">turnLeft();</code> <br/>
 <code style="margin-left:3.5em">turnLeft();</code> <br/>
 <code style="margin-left:3.5em">turnLeft();</code> <br/>
 <code>   }</code> <br/>
</p>
<p>Podobně můžete definovat nové <code>turnAround</code> tato metoda:</p>
<p class="demoCode" style="margin-left:10px">
 <code>   <span class="keyword">private void</span> turnAround() {</code> <br/>
 <code style="margin-left:3.5em">turnLeft();</code> <br/>
 <code style="margin-left:3.5em">turnLeft();</code> <br/>
 <code>   }</code> <br/>
</p>
<p>Název nové metody můžete použít stejně jako kterýkoliv z Karlových vestavěných příkazů. Například, jakmile definujete <code>turnRight</code> , můžete nahradit tři příkazy odbočitVlevo v <code>ZintenzivnitKarel</code> program s jedním voláním <code>turnRight</code> metoda. Zde je revidovaná implementace programu, který využívá <code>turnRight</code> :</p>





<div class="section embeddedIde" id="stepUp2">
<div class="ide getStarted" id="stepUp2Ide" style="height:563.2px">
<div class="ideCenter" id="stepUp2IdeCenter">
<div class="ideEditorDiv" id="stepUp2EditorDiv" style="width:200px"></div>
<div class="ideCanvasDiv" id="stepUp2CanvasDiv">
<canvas class="ideCanvas" id="stepUp2Canvas"></canvas>
</div>
</div>
</div>
<div style="width:100%;">
<div class="buttonBar">
<button class="btn btn-default" id="stepUp2RunButton"><span class="glyphicon glyphicon-play"></span>Spustit program</button>
</div>
</div>
<script>

        

function examplestepUp2() {
STARTER_CODE = `

/*
 * Soubor: KuzelSběrKarel.java
 * --------------------------
 * Program KuzelSběrKarel definuje metodu " run " se
 * třemi příkazy. Tyto příkazy způsobí, že Karel na m
 * ove vpřed o jeden blok, zvedne kuzel , a pak move
 * dopředu do dalšího rohu.
 */
import stanford.karel.*;
public class KuzelSběrKarel extends Karel {
   public void run() {
      move();
      pickBeeper();
      move();
      turnLeft();
      move();
      turnRight();
      move();
      move();
      putBeeper();
      move();
   }

   /**
    * Otočí Karla o 90 stupňů doprava.
    */
   private void turnRight() {
      turnLeft();
      turnLeft();
      turnLeft();
   }
}
`
// because of that extra endline at the start of the string
STARTER_CODE = STARTER_CODE.trim();

 var karelIde = null;
 var karelEditor = null;
 var buttonState = 'play';

 function main() {
   karelEditor = importEditorCode('stepUp2Editor','stepUp2EditorDiv', STARTER_CODE, false);
     //importRunButtonBar('example1ButtonBar');
    
    $("[title]").tooltip({ position: "bottom center", opacity: 0.9});
    
    initTabs();
    var canvas = document.getElementById('stepUp2Canvas');
    karelIde = KarelIde('java',karelEditor, canvas, 'stepUp', 0.0, 'cs');
    $('#stepUp2RunButton').click(function(){playClicked()});
    onresize();
    
 }

 function playClicked() {
  if(buttonState == 'play') {
    karelIde.playButton();
      
      var resetText = '<span class="glyphicon glyphicon-repeat"></span> Reset Program';
      $('#stepUp2RunButton').html(resetText);
      buttonState = 'reset';
     } else if (buttonState == 'reset') {
      karelIde.stopButton();
      var playText = '<span class="glyphicon glyphicon-play"></span> Run Program';
      $('#stepUp2RunButton').html(playText);
      buttonState = 'play';
     }
  
  }

 function onresize() { 
    var parentHeight = 563.2;
    var canvasWidth = 300
    var parentWidth = $("#stepUp2").width();
    console.log('pw: ' + parentWidth);

    var ide = document.getElementById('stepUp2Ide');
    var editorDiv = document.getElementById('stepUp2EditorDiv');
    var canvas = document.getElementById('stepUp2CanvasDiv');
    
    var ideHeight = parentHeight
    var centerHeight = ideHeight;

    var availibleWidth = parentWidth;
    var elementSpacing = 12;

    var editorWidth = availibleWidth - canvasWidth - elementSpacing; 

    canvas.style.width = canvasWidth + 'px';
    canvas.style.height = canvasWidth + 'px';
    canvas.style.left = (editorWidth + elementSpacing) + 'px';



    editorDiv.style.left = 0 + 'px'
    editorDiv.style.width = editorWidth + 'px';
    editorDiv.style.height = parentHeight + 'px';
    console.log('editor width: ' + editorWidth)

    if (karelEditor) {
       karelEditor.renderer.onResize();
    }
 }
 main()
 
}
examplestepUp2();
    </script>
</div>

<p>Existuje samozřejmě jeden zřejmý rozdíl mezi definicemi <code>run</code> a <code>turnRight</code> výše uvedené metody: <code>run</code> metoda je označena jako <code>public</code> na rozdíl od <code>turnRight</code> , která je označena jako <code>private</code> . Rozdíl mezi těmito dvěma označeními spočívá v tom, že veřejné metody mohou být vyvolány mimo program, zatímco soukromé metody nemohou. Metoda run musí být veřejná, protože prostředí Karla musí být schopno vydat příkaz run aby se věci dostali. Obecně je dobré udržet definice soukromé, kdykoli je to možné.</p>
<h3>Metoda Kód Bloky</h3>
<p>Skupina příkazů mezi dvěma složenými závorkami <code translate="no">{ }</code> se nazývá <b>kódový blok</b> . Tělo programu je kódový blok, stejně jako tělo metody. Všimněte si, jak jsou všechny obsahy kódu blokovány jednou záložkou. To je důležité stylisticky, protože umožňuje lidem snadno zjistit, jaké řádky kódu jsou v daném bloku.</p>
<p>Můžete definovat tolik metod, kolik chcete. Všechny by měly být napsány jeden po druhém ve vašem programovém kódovém bloku. Metodu nelze definovat uvnitř jiné metody.</p>
<hr/>
<center>
<a class="btn btn-primary btn-lg" href="chapter4.html" role="button">Další kapitola</a> 
</center>




<div style="height:60px"></div>
</div>
</div>
</div>
<!-- right gutter -->
<div style="flex-grow:4"></div>
</div>
</div>
</body>
</html>
