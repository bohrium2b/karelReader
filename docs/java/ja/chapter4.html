
<html>
<head>

<title>カレルリーダー</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/> 
<script src="../../plugins/jquery.min.js"></script>
<link href="../../plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet"/> 
<script src="../../plugins/bootstrap/js/bootstrap.min.js"></script>
<link href="../../style.css" rel="stylesheet"/> 
<script src="../..//karel/js/html/websiteImports.js"></script>
<script>importCss();</script>
<script>importJs();</script>
</head>
<body>
<!-- container -->
<div class="bookContainer">

<!-- side bar -->
<div class="bookSideBar">
<div class="homeLink">
 <a href="../../java/ja/intro.html">
<span aria-hidden="true" class="glyphicon glyphicon-home"></span> カレル</a> 
</div>
<hr/>
<div class="chapterTab" onclick="location.href='../../java/ja/chapter1.html'">
<a class="bookLink btn btn-link" href="../../java/ja/chapter1.html">1  - カレルに会う</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/chapter2.html'">
<a class="bookLink btn btn-link" href="../../java/ja/chapter2.html">2  - プログラミング</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/chapter3.html'">
<a class="bookLink btn btn-link" href="../../java/ja/chapter3.html">3  - 新しい方法</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/chapter4.html'">
<a class="bookLink btn btn-link" href="../../java/ja/chapter4.html">4  - 分解</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/chapter5.html'">
<a class="bookLink btn btn-link" href="../../java/ja/chapter5.html">5  - ループ用</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/chapter6.html'">
<a class="bookLink btn btn-link" href="../../java/ja/chapter6.html">6  - ループ中</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/chapter7.html'">
<a class="bookLink btn btn-link" href="../../java/ja/chapter7.html">7  - 条件付き</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/chapter8.html'">
<a class="bookLink btn btn-link" href="../../java/ja/chapter8.html">8  - 洗練</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/chapter9.html'">
<a class="bookLink btn btn-link" href="../../java/ja/chapter9.html">9  - スーパーカレル</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/reference.html'">
<a class="bookLink btn btn-link" href="../../java/ja/reference.html">10  - 参照</a> 
</div>
<div class="chapterTab" onclick="location.href='../../java/ja/ide.html'">
<a class="bookLink btn btn-link" href="../../java/ja/ide.html">11  - コード</a> 
</div>
<hr/>
 <a href="../../"><img src="../../images/unFlag.png" style="width:40px"/> もっと詳しく知る</a> 
<!-- <center>
    <img style ="width:75px;" src="../../images/stanford.png"/> 
    </center> -->
</div>
<!-- content -->
<div class="bookContent" style="display: flex;">
<!-- right gutter -->
<div style="flex-grow:1;max-width:50px;"></div>
<!-- main stuff -->
<div class="" style="flex-basis:740px; max-width:740px; margin-left:20px; margin-right:20px">
<div class="row">
<div class="col-md-12 col-xs-12">


<h1>第4章：分解</h1>
<hr/>
<p>新しいメソッドを定義することができることに付属している電源の多くを説明する方法として、カレルがより少しより実用的な何かを持っていると便利ですmove beeperある場所から別の場所へ。道路はしばしば修理を必要としているように見えます、そして、Karelがその抽象的な世界でくぼみを埋めることができるかどうか見るのは楽しいかもしれません。たとえば、カレルが左側の図に示されている「道路」の上に立っていると想像してください。道路の穴の左側に1つの角があります。カレルの仕事はbeeper穴を埋めて次のコーナーに進むことです。右側の図は、プログラムの実行後に世界がどのように見えるべきかを示しています。</p>





<div class="section" id="ba">
<div class="ide getStarted" id="baIde">
<div class="commandCanvasDiv" id="baCanvasDiv">
<div>
<div class="commandCanvasTitle">前：</div>
<div class="commandCanvasOuter">
<canvas id="baCanvasBefore" style="width:300px;"></canvas>
</div>
</div>
<div style="width:50px"></div>
<div>
<div class="commandCanvasTitle">後：</div>
<div class="commandCanvasOuter">
<canvas id="baCanvasAfter" style="width:300px;"></canvas>
</div>
</div>
</div>
</div>
<script>

        

function exampleba() {
 var karelIde = null;
 var buttonState = 'play';
 var canvas = null;

 function main() {
    canvas = document.getElementById('baCanvasBefore');
    karelIde = KarelIde('java',null, canvas, 'pothole', 0.0, 'ja',1000, 0.82 * 1000);

    let canvasGoal = document.getElementById('baCanvasAfter');
    let goalIde = KarelIde('java',null, canvasGoal, 'potholeGoal',0.0, 'ja',  1000, 0.82 * 1000)
 }

 
 main()
 
}
exampleba();
    </script>
</div>

<p>4つの定義済みコマンドに限定されている場合、この問題を解決するためのrun方法はrunようになります。</p>
<p style="margin-left:2em">
 <code><span class="keyword">private void</span> run() {</code> <br/>
 <code style="margin-left:2em">move();</code> <br/>
 <code style="margin-left:2em">turnLeft();</code> <br/>
 <code style="margin-left:2em">turnLeft();</code> <br/>
 <code style="margin-left:2em">turnLeft();</code> <br/>
 <code style="margin-left:2em">move();</code> <br/>
 <code style="margin-left:2em">putBeeper();</code> <br/>
 <code style="margin-left:2em">turnLeft();</code> <br/>
 <code style="margin-left:2em">turnLeft();</code> <br/>
 <code style="margin-left:2em">move();</code> <br/>
 <code style="margin-left:2em">turnLeft();</code> <br/>
 <code style="margin-left:2em">turnLeft();</code> <br/>
 <code style="margin-left:2em">turnLeft();</code> <br/>
 <code style="margin-left:2em">move();</code> <br/>
 <code>}</code> 
</p>
<p>turnRightメソッドを定義するための最初の動機は、正しいターンを達成するために3つのturnLeftコマンドを繰り返し続けることが面倒だったことです。新しいメソッドを定義することには、特定のタスクを実行したいときに毎回同じコマンドシーケンスを繰り返さないようにすること以外に、もう1つ重要な目的があります。メソッドを定義する能力は、プログラミングにおける最も重要な戦略、つまり大きな問題を解決しやすい小さな部分に分割するプロセスのロックを解除します。プログラムを細かく分割するプロセスは分解と呼ばれ、大きな問題の構成部分はサブ問題と呼ばれます。</p>
<p>一例として、道路の穴を埋める問題は、以下の副問題に分解することができる。</p>
<ol>
<li>穴まで上がる<li>beeperを落として穴を埋めます<li>次のコーナーに進む</li></li></li></ol>
<p>このようにして問題について考えるのであれば、メソッド定義を使用して、プログラム構造の概念を反映したプログラムを作成できます。 runメソッドは次のようになります。</p>
<p style="margin-left:2em">
 <code><span class="keyword">private void</span> run() {</code> <br/>
 <code style="margin-left:2em">move();</code> <br/>
 <code style="margin-left:2em">穴を埋める();</code> <br/>
 <code style="margin-left:2em">move();</code> <br/>
 <code>}</code> 
</p>
<p>アウトラインとの対応はすぐに明らかになります。穴を埋めることによって、自分だけの意味をKarelに理解させることができれば、すべてが素晴らしいものになります。メソッドを定義する力を考えると、穴を埋めることは非常に簡単です。あなたがしなければならないのは、ボディをその仕事をするためにあなたがすでに書いたコマンドから成る穴を埋めるメソッドを定義することです：</p>
<p style="margin-left:2em">
 <code><span class="keyword">private void</span> 穴を埋める() {</code> <br/>
 <code style="margin-left:2em">turnRight();</code> <br/>
 <code style="margin-left:2em">move();</code> <br/>
 <code style="margin-left:2em">putBeeper();</code> <br/>
 <code style="margin-left:2em">turnAround();</code> <br/>
 <code style="margin-left:2em">move();</code> <br/>
 <code style="margin-left:2em">turnRight();</code> <br/>
 <code>}</code> 
</p>
<p>これが完全なプログラムです。 runメソッドを読むだけでプログラマの意図を理解できることに注目してください。あなたの場合はrunプログラムは、ラインのハイライトは、コンピュータが、ステップバイステップでそれを実行する方法を示しています。しかし、プログラムはうまく分割されているので、人間の思考レベルで理解することができます。</p>





<div class="section embeddedIde" id="pothole">
<div class="ide getStarted" id="potholeIde" style="height:580.8000000000001px">
<div class="ideCenter" id="potholeIdeCenter">
<div class="ideEditorDiv" id="potholeEditorDiv" style="width:200px"></div>
<div class="ideCanvasDiv" id="potholeCanvasDiv">
<canvas class="ideCanvas" id="potholeCanvas"></canvas>
</div>
</div>
</div>
<div style="width:100%;">
<div class="buttonBar">
<button class="btn btn-default" id="potholeRunButton"><span class="glyphicon glyphicon-play"></span>プログラムを実行</button>
</div>
</div>
<script>

        

function examplepothole() {
STARTER_CODE = `

import stanford.カレル.*;
public class 穴あき充填カレル extends カレル {
   public void run() {
      move();
      穴を埋める();
      move();
   }

   /**
    * その角にbeeperを配置することによって、カレルの現在位置の下の穴をbeeperます。この方法が正しく機能するためには、カレルは穴の真上の東を向いていなければなりません。実行が完了すると、カレルは同じ広場に戻り、再び東に向かいます。
    */
   private void 穴を埋める() {
      turnRight();
      move();
      putBeeper();
      turnAround();
      move();
      turnRight();
   } 

   /** カレルを右に90度回転させます。 */
   public void turnRight() {
      turnLeft();
      turnLeft();
      turnLeft();
   }

   /** カレルを180度回転させます。 */
   public void turnAround() {
      turnLeft();
      turnLeft();
   }
}
`
// because of that extra endline at the start of the string
STARTER_CODE = STARTER_CODE.trim();

 var karelIde = null;
 var karelEditor = null;
 var buttonState = 'play';

 function main() {
   karelEditor = importEditorCode('potholeEditor','potholeEditorDiv', STARTER_CODE, false);
     //importRunButtonBar('example1ButtonBar');
    
    $("[title]").tooltip({ position: "bottom center", opacity: 0.9});
    
    initTabs();
    var canvas = document.getElementById('potholeCanvas');
    karelIde = KarelIde('java',karelEditor, canvas, 'pothole', 0.0, 'ja');
    $('#potholeRunButton').click(function(){playClicked()});
    onresize();
    
 }

 function playClicked() {
  if(buttonState == 'play') {
    karelIde.playButton();
      
      var resetText = '<span class="glyphicon glyphicon-repeat"></span> Reset Program';
      $('#potholeRunButton').html(resetText);
      buttonState = 'reset';
     } else if (buttonState == 'reset') {
      karelIde.stopButton();
      var playText = '<span class="glyphicon glyphicon-play"></span> Run Program';
      $('#potholeRunButton').html(playText);
      buttonState = 'play';
     }
  
  }

 function onresize() { 
    var parentHeight = 580.8000000000001;
    var canvasWidth = 200
    var parentWidth = $("#pothole").width();
    console.log('pw: ' + parentWidth);

    var ide = document.getElementById('potholeIde');
    var editorDiv = document.getElementById('potholeEditorDiv');
    var canvas = document.getElementById('potholeCanvasDiv');
    
    var ideHeight = parentHeight
    var centerHeight = ideHeight;

    var availibleWidth = parentWidth;
    var elementSpacing = 12;

    var editorWidth = availibleWidth - canvasWidth - elementSpacing; 

    canvas.style.width = canvasWidth + 'px';
    canvas.style.height = canvasWidth + 'px';
    canvas.style.left = (editorWidth + elementSpacing) + 'px';



    editorDiv.style.left = 0 + 'px'
    editorDiv.style.width = editorWidth + 'px';
    editorDiv.style.height = parentHeight + 'px';
    console.log('editor width: ' + editorWidth)

    if (karelEditor) {
       karelEditor.renderer.onResize();
    }
 }
 main()
 
}
examplepothole();
    </script>
</div><hr/>
<center>
<a class="btn btn-primary btn-lg" href="chapter5.html" role="button">次の章</a> 
</center>




<div style="height:60px"></div>
</div>
</div>
</div>
<!-- right gutter -->
<div style="flex-grow:4"></div>
</div>
</div>
</body>
</html>
